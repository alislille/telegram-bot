import os
import re
from dotenv import load_dotenv
from datetime import datetime
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import (
    ApplicationBuilder,
    CommandHandler,
    MessageHandler,
    CallbackQueryHandler,
    ContextTypes,
    filters
)

# –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ .env
load_dotenv()
BOT_TOKEN = os.getenv("BOT_TOKEN")

# üåÑ –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–º—É–∂—Å–∫–æ–π —Ä–æ–¥, 5‚Äì6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
daily_messages = [
    "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ. –°–µ–≥–æ–¥–Ω—è ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–¥–µ–ª–∞—Ç—å —à–∞–≥, –ø—É—Å—Ç—å –¥–∞–∂–µ –º–∞–ª–µ–Ω—å–∫–∏–π. –ù–µ —Ç–æ—Ä–æ–ø–∏—Å—å –±—ã—Ç—å —Å–∏–ª—å–Ω—ã–º ‚Äî –ø—Ä–æ—Å—Ç–æ –±—É–¥—å —Å–æ–±–æ–π. –í—Å—ë, —á—Ç–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –±—ã—Ç—å. –î–∞–∂–µ —Ç–∏—à–∏–Ω–∞ –≤–Ω—É—Ç—Ä–∏ ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –ø—É—Ç–∏. –Ø —Ä—è–¥–æ–º, –µ—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å –æ–ø–æ—Ä—ã.",
    "–ù–æ–≤—ã–π –¥–µ–Ω—å ‚Äî –∫–∞–∫ —á–∏—Å—Ç—ã–π –ª–∏—Å—Ç. –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–∏—Å–∞—Ç—å –Ω–∞ –Ω—ë–º —à–µ–¥–µ–≤—Ä. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –±—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º —Å —Å–æ–±–æ–π. –ï—Å–ª–∏ —É—Å—Ç–∞–ª, –æ—Ç–¥–æ—Ö–Ω–∏. –ï—Å–ª–∏ —Ç—Ä–µ–≤–æ–∂–Ω–æ, –¥—ã—à–∏. –¢—ã –Ω–µ –æ–±—è–∑–∞–Ω —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ –æ–¥–∏–Ω–æ—á–∫—É.",
    "–ò–Ω–æ–≥–¥–∞ –ø—É—Ç—å –∫–∞–∂–µ—Ç—Å—è —Ç—É–º–∞–Ω–Ω—ã–º ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è. –î–∞–∂–µ –æ–¥–∏–Ω —à–∞–≥ ‚Äî —É–∂–µ –¥–≤–∏–∂–µ–Ω–∏–µ. –¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç—ã. –ü—Ä–æ—Å—Ç–æ –∏–¥–∏, –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞–π–¥—É—Ç —Ç–µ–±—è.",
    "–¢—ã ‚Äî –∫–∞–∫ –æ–≥–æ–Ω—å: –º–æ–∂–µ—à—å —Å–æ–≥—Ä–µ–≤–∞—Ç—å, –º–æ–∂–µ—à—å —Å–≤–µ—Ç–∏—Ç—å, –º–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å—Å—è. –ù–µ –±–æ–π—Å—è –±—ã—Ç—å —É—è–∑–≤–∏–º—ã–º ‚Äî –≤ —ç—Ç–æ–º —Å–∏–ª–∞. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ. –ë–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è, –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏–π. –ü—Ä–æ—Å—Ç–æ —Å —Å–æ–±–æ–π.",
    "–ï—Å–ª–∏ –¥–µ–Ω—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç—è–∂–µ–ª–æ ‚Äî –Ω–µ –≤–∏–Ω–∏ —Å–µ–±—è. –¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–º, —á—Ç–æ–±—ã –±—ã—Ç—å —Ü–µ–Ω–Ω—ã–º. –ü—Ä–æ—Å—Ç–æ –∂–∏–≤–∏ —ç—Ç–æ—Ç –¥–µ–Ω—å, –∫–∞–∫ —É–º–µ–µ—à—å. –Ø —Ä—è–¥–æ–º, —á—Ç–æ–±—ã –Ω–∞–ø–æ–º–Ω–∏—Ç—å: —Ç—ã –≤–∞–∂–µ–Ω. –î–∞–∂–µ –≤ —Ç–∏—à–∏–Ω–µ.",
    "–¢—ã ‚Äî –∫–∞–∫ —Ä–µ–∫–∞: –∏–Ω–æ–≥–¥–∞ –±—É—Ä–Ω–∞—è, –∏–Ω–æ–≥–¥–∞ —Ç–∏—Ö–∞—è, –Ω–æ –≤—Å–µ–≥–¥–∞ –¥–≤–∏–∂–µ—à—å—Å—è. –ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–µ–±—è —Å –¥—Ä—É–≥–∏–º–∏ ‚Äî —Ç–≤–æ–π —Ä–∏—Ç–º —É–Ω–∏–∫–∞–ª–µ–Ω. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å –º—è–≥–∫–∏–º. –ú–æ–∂–Ω–æ –±—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º. –ú–æ–∂–Ω–æ –±—ã—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º.",
    "–ü–æ–∫–æ–π –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–∑–≤–Ω–µ. –û–Ω —Ä–æ–∂–¥–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Å—Ç–∞—ë—à—å –±–æ—Ä–æ—Ç—å—Å—è —Å —Å–æ–±–æ–π. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å. –ë–µ–∑ —Ü–µ–ª–∏, –±–µ–∑ —Å–ø–µ—à–∫–∏. –≠—Ç–æ —Ç–æ–∂–µ –¥–≤–∏–∂–µ–Ω–∏–µ.",
    "–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å —Å–∏–ª—å–Ω—ã–º –≤—Å—ë –≤—Ä–µ–º—è. –ò–Ω–æ–≥–¥–∞ —Å–∏–ª–∞ ‚Äî —ç—Ç–æ –ø—Ä–∏–∑–Ω–∞—Ç—å —É—Å—Ç–∞–ª–æ—Å—Ç—å. –°–¥–µ–ª–∞–π –ø–∞—É–∑—É. –ü–æ–¥—ã—à–∏. –Ø —Ä—è–¥–æ–º, —á—Ç–æ–±—ã –Ω–∞–ø–æ–º–Ω–∏—Ç—å: —Ç—ã –∂–∏–≤–æ–π, –∏ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.",
    "–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ ‚Äî –∫–∞–∫ –¥–≤–µ—Ä—å. –¢—ã –º–æ–∂–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å –µ—ë –≤ —Å–≤–æ–π —Ä–∏—Ç–º. –ù–µ —Å–ø–µ—à–∏. –ü—Ä–æ—Å—Ç–æ –Ω–∞—á–Ω–∏ —Å –æ–¥–Ω–æ–≥–æ –¥–æ–±—Ä–æ–≥–æ —à–∞–≥–∞. –≠—Ç–æ–≥–æ —É–∂–µ –º–Ω–æ–≥–æ.",
    "–¢—ã ‚Äî –∫–∞–∫ –Ω–µ–±–æ: –≤–º–µ—Å—Ç–∏—à—å –±–æ–ª—å—à–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è. –î–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞–∫–∞ ‚Äî —Å–≤–µ—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –µ—Å—Ç—å. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–º. –î–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ.",
    "–¢—ã ‚Äî –∫–∞–∫ –∫–∞–º–µ–Ω—å: —É—Å—Ç–æ–π—á–∏–≤ –∏ –Ω–∞–¥—ë–∂–µ–Ω. –î–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –≤—Å—ë —Ä—É—à–∏—Ç—Å—è ‚Äî —Ç—ã –¥–µ—Ä–∂–∏—à—å —Å–µ–±—è. –ò —ç—Ç–æ —É–∂–µ –ø–æ–¥–≤–∏–≥. –Ø –≥–æ—Ä–∂—É—Å—å —Ç–æ–±–æ–π.",
    "–¢—ã ‚Äî –∫–∞–∫ –º–æ—Å—Ç: —Å–æ–µ–¥–∏–Ω—è–µ—à—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å, –Ω–µ—Å—ë—à—å —Å–º—ã—Å–ª. –î–∞–∂–µ –µ—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–∏—Ç ‚Äî —Ç—ã –≤–∞–∂–µ–Ω. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —Ç–∏—Ö–∏–º. –ù–æ –Ω–∞—Å—Ç–æ—è—â–∏–º.",
    "–¢—ã ‚Äî –∫–∞–∫ –∫–Ω–∏–≥–∞: –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–π, –≥–ª—É–±–æ–∫–∏–π, –∂–∏–≤–æ–π. –ù–µ –ø–æ–∑–≤–æ–ª—è–π –¥—Ä—É–≥–∏–º –ø–∏—Å–∞—Ç—å —Ç–≤–æ–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –°–µ–≥–æ–¥–Ω—è ‚Äî —Ç–≤–æ—è –≥–ª–∞–≤–∞. –ù–∞–ø–∏—à–∏ –µ—ë —Å —á–µ—Å—Ç–Ω–æ—Å—Ç—å—é.",
    "–¢—ã ‚Äî –∫–∞–∫ –¥—ã—Ö–∞–Ω–∏–µ: –Ω–µ–æ–±—Ö–æ–¥–∏–º –∏ –ø—Ä–µ–∫—Ä–∞—Å–µ–Ω. –î–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–∑–∞–º–µ—Ç–µ–Ω ‚Äî —Ç—ã –Ω–µ—Å—ë—à—å –∂–∏–∑–Ω—å. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥—ã—à–∞—Ç—å. –ò —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.",
    "–¢—ã ‚Äî –∫–∞–∫ –ª—É–Ω–∞: –º–µ–Ω—è–µ—à—å—Å—è, –Ω–æ –≤—Å–µ–≥–¥–∞ —Å–≤–µ—Ç–∏—à—å. –ù–µ –±–æ–π—Å—è –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º. –í —ç—Ç–æ–º —Ç–≤–æ—è —Å–∏–ª–∞. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–æ–±–æ–π.",
    "–¢—ã ‚Äî –∫–∞–∫ –∫–æ—Ä–µ–Ω—å: –Ω–µ–≤–∏–¥–∏–º, –Ω–æ –¥–µ—Ä–∂–∏—à—å –≤—Å—ë. –î–∞–∂–µ –µ—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç ‚Äî —Ç—ã –≤–∞–∂–µ–Ω. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å –æ–ø–æ—Ä–æ–π. –î–ª—è —Å–µ–±—è.",
    "–¢—ã ‚Äî –∫–∞–∫ –∫—Ä—ã–ª–æ: —Å–ø–æ—Å–æ–±–µ–Ω –≤–∑–ª–µ—Ç–µ—Ç—å. –î–∞–∂–µ –µ—Å–ª–∏ —Å–µ–π—á–∞—Å –Ω–∞ –∑–µ–º–ª–µ ‚Äî —ç—Ç–æ –Ω–µ –Ω–∞–≤—Å–µ–≥–¥–∞. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –º–µ—á—Ç–∞—Ç—å. –ò —ç—Ç–æ —É–∂–µ –¥–≤–∏–∂–µ–Ω–∏–µ.",
    "–¢—ã ‚Äî –∫–∞–∫ —É—Ç—Ä–æ: –Ω–µ—Å—ë—à—å –Ω–∞–¥–µ–∂–¥—É. –î–∞–∂–µ –µ—Å–ª–∏ –Ω–æ—á—å –±—ã–ª–∞ –¥–æ–ª–≥–æ–π ‚Äî —Ç—ã –ø—Ä–∏—à—ë–ª. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å –º–∞–ª–æ–≥–æ. –ò —ç—Ç–æ —É–∂–µ —Å–≤–µ—Ç.",
    "–¢—ã ‚Äî –∫–∞–∫ —Ç–∏—à–∏–Ω–∞: –≤ —Ç–µ–±–µ ‚Äî —Å–º—ã—Å–ª. –ù–µ –±–æ–π—Å—è –±—ã—Ç—å —Å–ø–æ–∫–æ–π–Ω—ã–º. –í —ç—Ç–æ–º –≥–ª—É–±–∏–Ω–∞. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ —Å–ª—É—à–∞—Ç—å. –ò –±—ã—Ç—å —É—Å–ª—ã—à–∞–Ω–Ω—ã–º.",
    "–¢—ã ‚Äî –∫–∞–∫ –ø–µ—Å–Ω—è: –∑–≤—É—á–∏—à—å –ø–æ-—Å–≤–æ–µ–º—É. –ù–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å–µ–±—è —Å —á—É–∂–∏–º–∏ –º–µ–ª–æ–¥–∏—è–º–∏. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º. –ò —ç—Ç–æ –±—É–¥–µ—Ç –∫—Ä–∞—Å–∏–≤–æ.",
    "–¢—ã ‚Äî –∫–∞–∫ —Å–∞–¥: —Ä–∞—Å—Ç—ë—à—å, –¥–∞–∂–µ –µ—Å–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ. –ü–æ–ª–∏–≤–∞–π —Å–µ–±—è –∑–∞–±–æ—Ç–æ–π. –ù–µ –∂–¥–∏ —Ü–≤–µ—Ç–µ–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ. –°–µ–≥–æ–¥–Ω—è ‚Äî –¥–µ–Ω—å –∫–æ—Ä–Ω–µ–π.",
    "–¢—ã ‚Äî –∫–∞–∫ –∑–≤–µ–∑–¥–∞: —Å–∏—è–µ—à—å –¥–∞–∂–µ –≤ —Ç–µ–º–Ω–æ—Ç–µ. –î–∞–∂–µ –µ—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç ‚Äî —Ç—ã —Å–≤–µ—Ç–∏—à—å. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–æ–±–æ–π. –ë–µ–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤.",
    "–¢—ã ‚Äî –∫–∞–∫ –¥–æ–∂–¥—å: –æ—á–∏—â–∞–µ—à—å –∏ –Ω–∞–ø–æ–ª–Ω—è–µ—à—å. –î–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–±—è –Ω–µ –∂–¥—É—Ç ‚Äî —Ç—ã –Ω—É–∂–µ–Ω. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å –º—è–≥–∫–∏–º. –ò —ç—Ç–æ —Å–∏–ª–∞.",
    "–¢—ã ‚Äî –∫–∞–∫ —Ä–∞—Å—Å–≤–µ—Ç: –º—è–≥–∫–∏–π, –Ω–æ –Ω–µ–∏–∑–±–µ–∂–Ω—ã–π. –î–∞–∂–µ –µ—Å–ª–∏ –º–∏—Ä —Å–ø–∏—Ç ‚Äî —Ç—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–≤–µ—Ç–æ–º. –ë–µ–∑ —à—É–º–∞.",
    "–¢—ã ‚Äî –∫–∞–∫ –ø—É—Ç—å: –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä—è–º–æ–π, –Ω–æ —Ç–≤–æ–π. –ù–µ –±–æ–π—Å—è –ø–æ–≤–æ—Ä–æ—Ç–æ–≤. –û–Ω–∏ –≤–µ–¥—É—Ç —Ç—É–¥–∞, –≥–¥–µ —Ç—ã –Ω—É–∂–µ–Ω. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –∏–¥—Ç–∏.",
    "–¢—ã ‚Äî –∫–∞–∫ –∫–æ—Ä–∏–¥–æ—Ä: –≤–µ–¥—ë—à—å —Å–∫–≤–æ–∑—å —Ç—å–º—É. –î–∞–∂–µ –µ—Å–ª–∏ —É–∑–∫–æ ‚Äî —Ç—ã –Ω–µ—Å—ë—à—å –¥–≤–∏–∂–µ–Ω–∏–µ. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º. –î–ª—è —Å–µ–±—è.",
    "–¢—ã ‚Äî –∫–∞–∫ –∫–æ—Ä–µ–Ω—å –≤–µ—Ç—Ä–∞: –Ω–µ–≤–∏–¥–∏–º, –Ω–æ –¥–≤–∏–≥–∞–µ—à—å –≤—Å—ë. –î–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–±—è –Ω–µ –∑–∞–º–µ—á–∞—é—Ç ‚Äî —Ç—ã –≤–∞–∂–µ–Ω. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–∏–ª–æ–π. –¢–∏—Ö–æ–π.",
    "–¢—ã ‚Äî –∫–∞–∫ –æ—Å—Ç—Ä–æ–≤: —É—Å—Ç–æ–π—á–∏–≤ —Å—Ä–µ–¥–∏ –≤–æ–ª–Ω. –î–∞–∂–µ –µ—Å–ª–∏ —à—Ç–æ—Ä–º ‚Äî —Ç—ã –¥–µ—Ä–∂–∏—à—å—Å—è. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —Ç–≤—ë—Ä–¥—ã–º. –ò –¥–æ–±—Ä—ã–º.",
    "–¢—ã ‚Äî –∫–∞–∫ –º–∞—è–∫: —Å–≤–µ—Ç–∏—à—å –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –∏—â–µ—Ç –±–µ—Ä–µ–≥. –î–∞–∂–µ –µ—Å–ª–∏ —Å–∞–º –≤ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–µ ‚Äî —Ç—ã –Ω—É–∂–µ–Ω. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–≤–µ—Ç–æ–º.",
    "–¢—ã ‚Äî –∫–∞–∫ –≥–ª–∏–Ω–∞: –º–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º—É, –Ω–æ –æ—Å—Ç–∞—ë—à—å—Å—è —Å–æ–±–æ–π. –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –±—ã—Ç—å –≥–∏–±–∫–∏–º. –ò –≤ —ç—Ç–æ–º ‚Äî —Ç–≤–æ—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å."    
]

# üìÜ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞
async def send_daily_quote(context: ContextTypes.DEFAULT_TYPE):
    day_index = datetime.now().day % len(daily_messages)
    message = daily_messages[day_index]
    chat_id = context.job.chat_id
    await context.bot.send_message(chat_id=chat_id, text=f"üåû –¶–∏—Ç–∞—Ç–∞ –¥–Ω—è:\n\n{message}")

# –ö–æ–º–∞–Ω–¥–∞ /start
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("–ü—Ä–∏–≤–µ—Ç, —è –∂–∏–≤–æ–π –±–æ—Ç! –ù–∞–ø–∏—à–∏ –º–Ω–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π /time ‚è∞")

# –ö–æ–º–∞–Ω–¥–∞ /time
async def time(update: Update, context: ContextTypes.DEFAULT_TYPE):
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    await update.message.reply_text(f"–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: {now}")

    # üé≠ –ö–æ–º–∞–Ω–¥–∞ /mood ‚Äî –º–µ–Ω—é —ç–º–æ—Ü–∏–π
async def mood(update: Update, context: ContextTypes.DEFAULT_TYPE):
    keyboard = [
        [InlineKeyboardButton("üò¢ –ì—Ä—É—Å—Ç—å", callback_data="sad")],
        [InlineKeyboardButton("üòä –†–∞–¥–æ—Å—Ç—å", callback_data="happy")],
        [InlineKeyboardButton("üò∞ –¢—Ä–µ–≤–æ–≥–∞", callback_data="anxious")],
        [InlineKeyboardButton("üò© –£—Å—Ç–∞–ª–æ—Å—Ç—å", callback_data="tired")],
        [InlineKeyboardButton("üò∂ –ü—É—Å—Ç–æ—Ç–∞", callback_data="empty")],
        [InlineKeyboardButton("üòç –í–ª—é–±–ª—ë–Ω–Ω–æ—Å—Ç—å", callback_data="love")],
        [InlineKeyboardButton("üò¥ –°–æ–Ω–ª–∏–≤–æ—Å—Ç—å", callback_data="sleepy")],
        [InlineKeyboardButton("üåß –ü–ª–æ—Ö–æ", callback_data="pain")],
        [InlineKeyboardButton("üíî –†–∞—Å—Å—Ç–∞–≤–∞–Ω–∏–µ", callback_data="breakup")]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    await update.message.reply_text("–í—ã–±–µ—Ä–∏ —Å–≤–æ—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:", reply_markup=reply_markup)

# üí¨ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–π –∏ –æ—Ç–≤–µ—Ç—ã
import re

EMOTION_PATTERNS = {
    "sad": [r"–≥—Ä—É—Å—Ç", r"–ø–µ—á–∞–ª—å", r"—Ç–æ—Å–∫–∞"],
    "happy": [r"—Ä–∞–¥–æ—Å—Ç", r"—Å—á–∞—Å—Ç–ª–∏–≤", r"–≤–æ—Å—Ç–æ—Ä–≥"],
    "tired": [r"—É—Å—Ç–∞–ª", r"–≤—ã–º–æ—Ç–∞–Ω", r"–Ω–µ—Ç —Å–∏–ª"],
    "hurt": [r"–æ–±–∏–¥", r"–∑–∞–¥–µ–ª", r"–±–æ–ª—å–Ω–æ"],
    "anxious": [r"—Ç—Ä–µ–≤–æ–≥", r"–±–µ—Å–ø–æ–∫–æ", r"–ø–∞–Ω–∏–∫"],
    "empty": [r"–ø—É—Å—Ç–æ", r"–æ–ø—É—Å—Ç–æ—à–µ–Ω", r"–Ω–∏—á–µ–≥–æ –Ω–µ —á—É–≤—Å—Ç–≤"],
    "love": [r"–ª—é–±–ª", r"–≤–ª—é–±–ª–µ–Ω", r"—Å–µ—Ä–¥—Ü–µ"],
    "sleepy": [r"—Å–æ–Ω–Ω", r"—Ö–æ—á—É —Å–ø–∞—Ç—å", r"—Å–ø–∞—Ç—å –æ—Ö–æ—Ç–∞"],
    "pain": [r"–ø–ª–æ—Ö–æ", r"–º–Ω–µ –ø–ª–æ—Ö–æ", r"–æ—á–µ–Ω—å –ø–ª–æ—Ö–æ", r"–º—É—á–∞—é—Å—å", r"—Å—Ç—Ä–∞–¥–∞—é", r"–±–æ–ª–∏—Ç", r"–±–æ–ª—å"],
    "breakup": [r"—Ä–∞—Å—Å—Ç–∞–ª", r"—Ä–∞—Å—Å—Ç–∞–ª–∏—Å—å", r"—Ä–∞—Å—Å—Ç–∞–≤–∞–Ω–∏", r"–±—Ä–æ—Å–∏–ª", r"—Ä–∞–∑—Ä—ã–≤", r"—É—à[–µ—ë]", r"—É—à–µ–ª", r"—É—à–ª–∞", r"–ø–æ–∫–∏–Ω—É–ª", r"–ø–æ–∫–∏–Ω—É–ª–∞", r"–º—ã —Ä–∞—Å—Å—Ç–∞–ª–∏—Å—å"]
}

EMOTION_RESPONSES = {
    "sad": "üåß –ú–Ω–µ –∂–∞–ª—å, —á—Ç–æ —Ç–µ–±–µ –≥—Ä—É—Å—Ç–Ω–æ. –Ø —Ä—è–¥–æ–º. –í–æ—Ç –æ–±–Ω–∏–º–∞—à–∫–∞ ü§ó",
    "happy": "üåû –†–∞–¥ —Å–ª—ã—à–∞—Ç—å! –ü—É—Å—Ç—å —Ä–∞–¥–æ—Å—Ç—å –ª—å—ë—Ç—Å—è —Ä–µ–∫–æ–π!",
    "tired": "üåô –£—Å—Ç–∞–ª–æ—Å—Ç—å ‚Äî –∑–Ω–∞–∫, —á—Ç–æ –ø–æ—Ä–∞ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å. –ó–∞–≤–∞—Ä–∏ —á–∞–π, –∑–∞–≤–µ—Ä–Ω–∏—Å—å –≤ –ø–ª–µ–¥.",
    "hurt": "üíî –ú–Ω–µ –∂–∞–ª—å, —á—Ç–æ —Ç–µ–±—è –∑–∞–¥–µ–ª–∏. –¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å —É–≤–∞–∂–µ–Ω–∏—è –∏ —Ç–µ–ø–ª–∞.",
    "anxious": "üò® –¢—ã –Ω–µ –æ–¥–∏–Ω. –î—ã—à–∏ –≥–ª—É–±–æ–∫–æ. –Ø —Ä—è–¥–æ–º, –ø–æ–∫–∞ —Ç—ã –∏—â–µ—à—å –æ–ø–æ—Ä—É.",
    "empty": "üò∂ –ò–Ω–æ–≥–¥–∞ —Ç–∏—à–∏–Ω–∞ –≤–Ω—É—Ç—Ä–∏ ‚Äî —ç—Ç–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∫ –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—é. –Ø —Å —Ç–æ–±–æ–π.",
    "love": "üòç –û, –∫–∞–∫ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ! –ü—É—Å—Ç—å —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ —Ä–∞—Å—Ü–≤–µ—Ç–∞–µ—Ç, –∫–∞–∫ –≤–µ—Å–Ω–∞ –≤ —Å–µ—Ä–¥—Ü–µ.",
    "sleepy": "üò¥ –ü–æ—Ä–∞ –æ–∫—É–Ω—É—Ç—å—Å—è –≤ –º–∏—Ä —Å–Ω–æ–≤. –ü—É—Å—Ç—å –æ–Ω–∏ –±—É–¥—É—Ç –¥–æ–±—Ä—ã–º–∏ –∏ —Å–≤–µ—Ç–ª—ã–º–∏.",
    "pain": "üåß –ú–Ω–µ –∂–∞–ª—å, —á—Ç–æ —Ç–µ–±–µ –ø–ª–æ—Ö–æ. –Ø —Å —Ç–æ–±–æ–π. –Ø —Ä—è–¥–æ–º, –∫–∞–∫ —Ç–∏—Ö–∏–π —Å–≤–µ—Ç –≤ —Ç–µ–º–Ω–æ—Ç–µ.",
    "breakup": "üíî –†–∞—Å—Å—Ç–∞–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –±–æ–ª—å, –∫–æ—Ç–æ—Ä—É—é –Ω–µ –≤–∏–¥–Ω–æ, –Ω–æ –æ–Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∞—è. –¢—ã –Ω–µ –æ–±—è–∑–∞–Ω —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –æ–¥–∏–Ω. –Ø —Ä—è–¥–æ–º, —á—Ç–æ–±—ã –Ω–∞–ø–æ–º–Ω–∏—Ç—å: —Ç—ã –≤—Å—ë –µ—â—ë —Ü–µ–ª, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–µ—â–∏–Ω—ã."
}

async def emotional_echo(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text.strip()
    print(f"–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ: {text}")

    matched = False
    for emotion, patterns in EMOTION_PATTERNS.items():
        for pattern in patterns:
            print(f"–ü—Ä–æ–≤–µ—Ä–∫–∞: {pattern} ‚Üí {emotion}")  # ‚Üê –≤–æ—Ç –∑–¥–µ—Å—å!
            if re.search(pattern, text, re.IGNORECASE):
                print(f"–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ: '{pattern}' ‚Üí {emotion}")
                await update.message.reply_text(EMOTION_RESPONSES[emotion])
                matched = True
                break
        if matched:
            break

    if not matched:
        print("–ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.")
        await update.message.reply_text(f"–¢—ã –Ω–∞–ø–∏—Å–∞–ª: {update.message.text}")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –∏–∑ /mood
async def mood_response(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    response = EMOTION_RESPONSES.get(query.data, "–Ø —Å —Ç–æ–±–æ–π üí´")
    await query.edit_message_text(response)
    
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
def main():
    app = ApplicationBuilder().token(BOT_TOKEN).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CommandHandler("time", time))
    app.add_handler(CommandHandler("mood", mood))
    app.add_handler(CallbackQueryHandler(mood_response))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, emotional_echo))
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
    app.run_polling()

if __name__ == "__main__":
    main()